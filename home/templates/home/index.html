{% extends 'base.html' %}
{% block content %}
<header class="bg-index text-white text-center py-4">
  <div class="container">
    <h1><a href="{% url 'home.index' %}">Poker Simulation</a></h1>
    <!-- <p>django, tensorflow, seaborn, pandas, numpy</p> -->
  </div>
</header>    
<div class="border-bottom-index"></div>
<div class="container px-4 py-5" id="featured-3">
  <h2>Poker Simulation Menu</h2>
  <div class="pb-2 border-bottom"></div>
  <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
    <div class="feature col">
      <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
        <img width="42" height="42" src=https://img.icons8.com/external-itim2101-lineal-itim2101/64/FFFFFF/external-maths-calculate-itim2101-lineal-itim2101.png alt="newton"/>
      </div>
      <h3 class="fs-2 text-body-emphasis">
        <a href="cards_permutations" class="icon-link">Permutacje Kart<svg class="bi"><use xlink:href="#chevron-right"></use></svg></a>
      </h3>
      <p>Narzędzie umożliwiające generowanie permutacji i kombinacji ze wszystkich możliwych układów kart w Pokerze oraz zapis do pliku wygenerowanych danych.</p>
    </div>
    <div class="feature col">
      <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
        <img width="42" height="42" src="https://img.icons8.com/ios-filled/50/FFFFFF/joker-card.png" alt="joker-card"/>
      </div>
      <h3 class="fs-2 text-body-emphasis">
        <a href="one_pair_game" class="icon-link">Gra (Jedna Para)<svg class="bi"><use xlink:href="#chevron-right"></use></svg></a>
      </h3>
      <p>Gra w Pokera układem Jedna Para. Do wyboru Gracz vs Gracz, AI vs AI, Gracz vs AI. Prowadzenie gry przez sztuczną inteligencję jest oparte na drzewie decyzyjnym. W module znajduje się opcja wyświetlania prawdopodobieństwa wygranej.</p>
    </div>
    <div class="feature col">
      <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
        <img width="42" height="42" src="https://img.icons8.com/dotty/80/FFFFFF/controller.png" alt="controller"/>
      </div>
      <h3 class="fs-2 text-body-emphasis">
        <a href="#" class="icon-link">Gra<svg class="bi"><use xlink:href="#chevron-right"></use></svg></a>
      </h3>      
      <p>Moduł pozwala na granie wszystkimi układami - Gracz vs Gracz.</p>
    </div>
  </div>
  <div class="row g-4 py-5 row-cols-1 row-cols-lg-3">
    <div class="feature col">
      <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
        <img width="42" height="42" src=https://img.icons8.com/external-outline-black-m-oki-orlando/32/FFFFFF/external-data-aggregation-data-engineering-outline-outline-black-m-oki-orlando.png alt="data collecting"/>   
      </div>
      <h3 class="fs-2 text-body-emphasis">
        <a href="#" class="icon-link">Zbieranie rozgrywek do pliku<svg class="bi"><use xlink:href="#chevron-right"></use></svg></a>
      </h3>
      <p>Moduł umożliwia zbieranie rozgrywek do pliku, który następnie jest wykorzystywany do aktualizacji lub uczenia od początku Deep Neural Network.</p>
    </div>
    <div class="feature col">
      <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
        <img width="42" height="42" src="https://img.icons8.com/laces/64/FFFFFF/mind-map.png" alt="mind-map"/>
      </div>
      <h3 class="fs-2 text-body-emphasis">
        <a href="#" class="icon-link">Uczenie Deep Neural Network<svg class="bi"><use xlink:href="#chevron-right"></use></svg></a>
      </h3>
      <p>Moduł, który służy do stworzenia modelu oraz nauki Deep Neural Network w celu określenia prawdopodobieństwa wygranej gracza z danym układem. W tym przypadku (póki co) uczenie jest to proces używany z wykorzystaniem przeprowadzonych rozgrywek z układem Jedna Para.</p>
    </div>
    <div class="feature col">
      <div class="feature-icon d-inline-flex align-items-center justify-content-center text-bg-primary bg-gradient fs-2 mb-3">
        <img width="42" height="42" src="https://img.icons8.com/ios-filled/50/FFFFFF/neuron.png" alt="neuron"/>      
      </div>
      <h3 class="fs-2 text-body-emphasis">
        <a href="#" class="icon-link">Aktualizacja Deep Neural Network<svg class="bi"><use xlink:href="#chevron-right"></use></svg></a>
      </h3>      
      <p>Moduł umożliwia przeprowadzenie aktualizacji modelu Deep Neural Network z nowymi danymi.</p>
    </div>
  </div>
</div>
<!-- Cookie Consent Banner -->
<div id="cookie-banner" style="
    display: none; 
    position: fixed; 
    bottom: 0; 
    width: 100%; 
    background: radial-gradient(circle, #00101e, #001d37); 
    color: #baeeff; 
    padding: 20px; 
    text-align: center; 
    z-index: 1001;
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: center;">
  <p style="text-align: center; max-width: 60%; margin-left: 0%; margin-bottom: 20px;">
    Nie zbieramy żadnych danych osobowych ani nie używamy plików cookie do śledzenia. Token CSRF jest przechowywany na Twoim urządzeniu w celu zapewnienia bezpiecznej komunikacji między Twoją przeglądarką a naszym serwerem. Ten token nie zawiera żadnych informacji umożliwiających identyfikację.
    <br><br>
    We do not collect any personal information or use tracking cookies. A CSRF token is stored on your device to ensure secure communication between your browser and our server. This token does not contain any identifiable information.
  </p>
  <div>
    <button id="accept-cookies" style="
        font-size: 16px; 
        font-family: 'Cambria Math', sans-serif; 
        cursor: pointer; 
        transition: background-color 0.3s; 
        border-radius: 10px; 
        margin-right: 10px; 
        background: linear-gradient(to bottom, #00435f, rgb(0, 48, 73));
        transition: background-color 0.3s;
        border: 1px solid #001d29;">
      Akceptuj
    </button>
    <button id="reject-cookies" style="
        font-size: 16px; 
        font-family: 'Cambria Math', sans-serif; 
        cursor: pointer; 
        transition: background-color 0.3s; 
        border-radius: 10px; 
        background: linear-gradient(to bottom, #00435f, rgb(0, 48, 73));
        transition: background-color 0.3s;
        border: 1px solid #001d29;">
      Odmów
    </button>
  </div>
</div>
<!-- Site Overlay -->
<div id="site-overlay" style="
    position: fixed; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%; 
    background-color: rgba(0, 0, 0, 0.5); 
    z-index: 1000;
    display: none;">
</div>
<script>
  // Function to check if the consent cookie exists
  function getCookie(name) {
      const cookies = document.cookie.split(';');
      for (let cookie of cookies) {
          const [key, value] = cookie.trim().split('=');
          if (key === name) {
              return value;
          }
      }
      return null;
  }
  
  // Function to set a cookie
  function setCookie(name, value, days) {
      const expires = new Date();
      expires.setTime(expires.getTime() + days * 24 * 60 * 60 * 1000);
      document.cookie = `${name}=${value}; expires=${expires.toUTCString()}; path=/`;
  }
  
  // Function to show the cookie banner
  function showCookieBanner() {
      const banner = document.getElementById('cookie-banner');
      banner.style.display = 'block';
      const overlay = document.getElementById('site-overlay');
      banner.style.display = 'flex';
      overlay.style.display = 'block';
      // Add event listeners for buttons
      document.getElementById('accept-cookies').addEventListener('click', () => {
          setCookie('cookie_consent', 'accepted', 365);
          banner.style.display = 'none';
          console.log('Cookies accepted.');
          overlay.style.display ='none';
      });
  
      document.getElementById('reject-cookies').addEventListener('click', () => {
          setCookie('cookie_consent', 'rejected', 365);
          console.log('Cookies rejected.');
          alert('Cookies are necessary for this website to function. You will now be redirected. Pliki cookie są niezbędne do funkcjonowania tej strony. Zostaniesz przekierowany do innej strony.');
          window.location.href = '/goodbye/'; // Redirect user to an exit or information page
      });
  }

  // Check for cookie consent on page load
  window.onload = function () {
    const banner = document.getElementById('cookie-banner');

    const consent = getCookie('cookie_consent');

    if (consent === 'accepted') {
        console.log('Cookies already accepted.');
        banner.style.display = 'none';
    } else if (consent === 'rejected') {
        console.log('Cookies already rejected.');
        showCookieBanner();
    } else {
        showCookieBanner();
    }

  };

  </script>
{% endblock content %}